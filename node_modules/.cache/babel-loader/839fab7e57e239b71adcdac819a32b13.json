{"ast":null,"code":"// ../../../react-shim.js\nimport React from \"react\"; // src/pin-input.tsx\n\nimport { chakra, forwardRef, omitThemingProps, useStyleConfig } from \"@chakra-ui/system\"; // ../../utilities/shared-utils/src/index.ts\n\nvar cx = function () {\n  for (var _len = arguments.length, classNames = new Array(_len), _key = 0; _key < _len; _key++) {\n    classNames[_key] = arguments[_key];\n  }\n\n  return classNames.filter(Boolean).join(\" \");\n};\n\nvar ariaAttr = condition => condition ? true : void 0;\n\nfunction callAllHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function func(event) {\n    fns.some(fn => {\n      fn == null ? void 0 : fn(event);\n      return event == null ? void 0 : event.defaultPrevented;\n    });\n  };\n} // src/pin-input.tsx\n\n\nimport { getValidChildren } from \"@chakra-ui/react-children-utils\"; // src/use-pin-input.ts\n\nimport { createDescendantContext } from \"@chakra-ui/descendant\";\nimport { useControllableState } from \"@chakra-ui/react-use-controllable-state\";\nimport { createContext } from \"@chakra-ui/react-context\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { useCallback, useEffect, useState, useId } from \"react\";\nvar [PinInputDescendantsProvider, usePinInputDescendantsContext, usePinInputDescendants, usePinInputDescendant] = createDescendantContext();\nvar [PinInputProvider, usePinInputContext] = createContext({\n  name: \"PinInputContext\",\n  errorMessage: \"usePinInputContext: `context` is undefined. Seems you forgot to all pin input fields within `<PinInput />`\"\n});\n\nvar toArray = value => value == null ? void 0 : value.split(\"\");\n\nfunction validate(value, type) {\n  const NUMERIC_REGEX = /^[0-9]+$/;\n  const ALPHA_NUMERIC_REGEX = /^[a-zA-Z0-9]+$/i;\n  const regex = type === \"alphanumeric\" ? ALPHA_NUMERIC_REGEX : NUMERIC_REGEX;\n  return regex.test(value);\n}\n\nfunction usePinInput() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    autoFocus,\n    value,\n    defaultValue,\n    onChange,\n    onComplete,\n    placeholder = \"\\u25CB\",\n    manageFocus = true,\n    otp = false,\n    id: idProp,\n    isDisabled,\n    isInvalid,\n    type = \"number\",\n    mask\n  } = props;\n  const uuid = useId();\n  const id = idProp ?? `pin-input-${uuid}`;\n  const descendants = usePinInputDescendants();\n  const [moveFocus, setMoveFocus] = useState(true);\n  const [focusedIndex, setFocusedIndex] = useState(-1);\n  const [values, setValues] = useControllableState({\n    defaultValue: toArray(defaultValue) || [],\n    value: toArray(value),\n    onChange: values2 => onChange == null ? void 0 : onChange(values2.join(\"\"))\n  });\n  useEffect(() => {\n    if (autoFocus) {\n      const first = descendants.first();\n\n      if (first) {\n        requestAnimationFrame(() => {\n          first.node.focus();\n        });\n      }\n    }\n  }, [descendants]);\n  const focusNext = useCallback(index => {\n    if (!moveFocus || !manageFocus) return;\n    const next = descendants.next(index, false);\n\n    if (next) {\n      requestAnimationFrame(() => {\n        next.node.focus();\n      });\n    }\n  }, [descendants, moveFocus, manageFocus]);\n  const setValue = useCallback(function (value2, index) {\n    let handleFocus = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    const nextValues = [...values];\n    nextValues[index] = value2;\n    setValues(nextValues);\n    const isComplete = value2 !== \"\" && nextValues.length === descendants.count() && nextValues.every(inputValue => inputValue != null && inputValue !== \"\");\n\n    if (isComplete) {\n      onComplete == null ? void 0 : onComplete(nextValues.join(\"\"));\n    } else {\n      if (handleFocus) focusNext(index);\n    }\n  }, [values, setValues, focusNext, onComplete, descendants]);\n  const clear = useCallback(() => {\n    var _a;\n\n    const values2 = Array(descendants.count()).fill(\"\");\n    setValues(values2);\n    const first = descendants.first();\n    (_a = first == null ? void 0 : first.node) == null ? void 0 : _a.focus();\n  }, [descendants, setValues]);\n  const getNextValue = useCallback((value2, eventValue) => {\n    let nextValue = eventValue;\n\n    if ((value2 == null ? void 0 : value2.length) > 0) {\n      if (value2[0] === eventValue.charAt(0)) {\n        nextValue = eventValue.charAt(1);\n      } else if (value2[0] === eventValue.charAt(1)) {\n        nextValue = eventValue.charAt(0);\n      }\n    }\n\n    return nextValue;\n  }, []);\n  const getInputProps = useCallback(props2 => {\n    const {\n      index,\n      ...rest\n    } = props2;\n\n    const onChange2 = event => {\n      const eventValue = event.target.value;\n      const currentValue = values[index];\n      const nextValue = getNextValue(currentValue, eventValue);\n\n      if (nextValue === \"\") {\n        setValue(\"\", index);\n        return;\n      }\n\n      if (eventValue.length > 2) {\n        if (validate(eventValue, type)) {\n          const nextValue2 = eventValue.split(\"\").filter((_, index2) => index2 < descendants.count());\n          setValues(nextValue2);\n\n          if (nextValue2.length === descendants.count()) {\n            onComplete == null ? void 0 : onComplete(nextValue2.join(\"\"));\n          }\n        }\n      } else {\n        if (validate(nextValue, type)) {\n          setValue(nextValue, index);\n        }\n\n        setMoveFocus(true);\n      }\n    };\n\n    const onKeyDown = event => {\n      var _a;\n\n      if (event.key === \"Backspace\" && manageFocus) {\n        if (event.target.value === \"\") {\n          const prevInput = descendants.prev(index, false);\n\n          if (prevInput) {\n            setValue(\"\", index - 1, false);\n            (_a = prevInput.node) == null ? void 0 : _a.focus();\n            setMoveFocus(true);\n          }\n        } else {\n          setMoveFocus(false);\n        }\n      }\n    };\n\n    const onFocus = () => {\n      setFocusedIndex(index);\n    };\n\n    const onBlur = () => {\n      setFocusedIndex(-1);\n    };\n\n    const hasFocus = focusedIndex === index;\n    const inputType = type === \"number\" ? \"tel\" : \"text\";\n    return {\n      \"aria-label\": \"Please enter your pin code\",\n      inputMode: type === \"number\" ? \"numeric\" : \"text\",\n      type: mask ? \"password\" : inputType,\n      ...rest,\n      id: `${id}-${index}`,\n      disabled: isDisabled,\n      \"aria-invalid\": ariaAttr(isInvalid),\n      onChange: callAllHandlers(rest.onChange, onChange2),\n      onKeyDown: callAllHandlers(rest.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(rest.onFocus, onFocus),\n      onBlur: callAllHandlers(rest.onBlur, onBlur),\n      value: values[index] || \"\",\n      autoComplete: otp ? \"one-time-code\" : \"off\",\n      placeholder: hasFocus ? \"\" : placeholder\n    };\n  }, [descendants, focusedIndex, getNextValue, id, isDisabled, mask, isInvalid, manageFocus, onComplete, otp, placeholder, setValue, setValues, type, values]);\n  return {\n    getInputProps,\n    id,\n    descendants,\n    values,\n    setValue,\n    setValues,\n    clear\n  };\n}\n\nfunction usePinInputField() {\n  let props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  const {\n    getInputProps\n  } = usePinInputContext();\n  const {\n    index,\n    register\n  } = usePinInputDescendant();\n  return getInputProps({ ...props,\n    ref: mergeRefs(register, ref),\n    index\n  });\n} // src/pin-input.tsx\n\n\nimport { cloneElement } from \"react\";\n\nfunction PinInput(props) {\n  const styles = useStyleConfig(\"PinInput\", props);\n  const {\n    children,\n    ...rest\n  } = omitThemingProps(props);\n  const {\n    descendants,\n    ...context\n  } = usePinInput(rest);\n  const clones = getValidChildren(children).map(child => cloneElement(child, {\n    __css: styles\n  }));\n  return /* @__PURE__ */React.createElement(PinInputDescendantsProvider, {\n    value: descendants\n  }, /* @__PURE__ */React.createElement(PinInputProvider, {\n    value: context\n  }, clones));\n}\n\nPinInput.displayName = \"PinInput\";\nvar PinInputField = forwardRef(function PinInputField2(props, ref) {\n  const inputProps = usePinInputField(props, ref);\n  return /* @__PURE__ */React.createElement(chakra.input, { ...inputProps,\n    className: cx(\"chakra-pin-input\", props.className)\n  });\n});\nPinInputField.displayName = \"PinInputField\";\nexport { PinInput, PinInputDescendantsProvider, PinInputField, PinInputProvider, usePinInput, usePinInputContext, usePinInputDescendant, usePinInputDescendants, usePinInputDescendantsContext, usePinInputField };","map":{"version":3,"sources":["/home/dmytro/react-redux-posts/node_modules/@chakra-ui/pin-input/dist/index.esm.js"],"names":["React","chakra","forwardRef","omitThemingProps","useStyleConfig","cx","classNames","filter","Boolean","join","ariaAttr","condition","callAllHandlers","fns","func","event","some","fn","defaultPrevented","getValidChildren","createDescendantContext","useControllableState","createContext","mergeRefs","useCallback","useEffect","useState","useId","PinInputDescendantsProvider","usePinInputDescendantsContext","usePinInputDescendants","usePinInputDescendant","PinInputProvider","usePinInputContext","name","errorMessage","toArray","value","split","validate","type","NUMERIC_REGEX","ALPHA_NUMERIC_REGEX","regex","test","usePinInput","props","autoFocus","defaultValue","onChange","onComplete","placeholder","manageFocus","otp","id","idProp","isDisabled","isInvalid","mask","uuid","descendants","moveFocus","setMoveFocus","focusedIndex","setFocusedIndex","values","setValues","values2","first","requestAnimationFrame","node","focus","focusNext","index","next","setValue","value2","handleFocus","nextValues","isComplete","length","count","every","inputValue","clear","_a","Array","fill","getNextValue","eventValue","nextValue","charAt","getInputProps","props2","rest","onChange2","target","currentValue","nextValue2","_","index2","onKeyDown","key","prevInput","prev","onFocus","onBlur","hasFocus","inputType","inputMode","disabled","autoComplete","usePinInputField","ref","register","cloneElement","PinInput","styles","children","context","clones","map","child","__css","createElement","displayName","PinInputField","PinInputField2","inputProps","input","className"],"mappings":"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","sourcesContent":["// ../../../react-shim.js\nimport React from \"react\";\n\n// src/pin-input.tsx\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useStyleConfig\n} from \"@chakra-ui/system\";\n\n// ../../utilities/shared-utils/src/index.ts\nvar cx = (...classNames) => classNames.filter(Boolean).join(\" \");\nvar ariaAttr = (condition) => condition ? true : void 0;\nfunction callAllHandlers(...fns) {\n  return function func(event) {\n    fns.some((fn) => {\n      fn == null ? void 0 : fn(event);\n      return event == null ? void 0 : event.defaultPrevented;\n    });\n  };\n}\n\n// src/pin-input.tsx\nimport { getValidChildren } from \"@chakra-ui/react-children-utils\";\n\n// src/use-pin-input.ts\nimport { createDescendantContext } from \"@chakra-ui/descendant\";\nimport { useControllableState } from \"@chakra-ui/react-use-controllable-state\";\nimport { createContext } from \"@chakra-ui/react-context\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { useCallback, useEffect, useState, useId } from \"react\";\nvar [\n  PinInputDescendantsProvider,\n  usePinInputDescendantsContext,\n  usePinInputDescendants,\n  usePinInputDescendant\n] = createDescendantContext();\nvar [PinInputProvider, usePinInputContext] = createContext({\n  name: \"PinInputContext\",\n  errorMessage: \"usePinInputContext: `context` is undefined. Seems you forgot to all pin input fields within `<PinInput />`\"\n});\nvar toArray = (value) => value == null ? void 0 : value.split(\"\");\nfunction validate(value, type) {\n  const NUMERIC_REGEX = /^[0-9]+$/;\n  const ALPHA_NUMERIC_REGEX = /^[a-zA-Z0-9]+$/i;\n  const regex = type === \"alphanumeric\" ? ALPHA_NUMERIC_REGEX : NUMERIC_REGEX;\n  return regex.test(value);\n}\nfunction usePinInput(props = {}) {\n  const {\n    autoFocus,\n    value,\n    defaultValue,\n    onChange,\n    onComplete,\n    placeholder = \"\\u25CB\",\n    manageFocus = true,\n    otp = false,\n    id: idProp,\n    isDisabled,\n    isInvalid,\n    type = \"number\",\n    mask\n  } = props;\n  const uuid = useId();\n  const id = idProp ?? `pin-input-${uuid}`;\n  const descendants = usePinInputDescendants();\n  const [moveFocus, setMoveFocus] = useState(true);\n  const [focusedIndex, setFocusedIndex] = useState(-1);\n  const [values, setValues] = useControllableState({\n    defaultValue: toArray(defaultValue) || [],\n    value: toArray(value),\n    onChange: (values2) => onChange == null ? void 0 : onChange(values2.join(\"\"))\n  });\n  useEffect(() => {\n    if (autoFocus) {\n      const first = descendants.first();\n      if (first) {\n        requestAnimationFrame(() => {\n          first.node.focus();\n        });\n      }\n    }\n  }, [descendants]);\n  const focusNext = useCallback((index) => {\n    if (!moveFocus || !manageFocus)\n      return;\n    const next = descendants.next(index, false);\n    if (next) {\n      requestAnimationFrame(() => {\n        next.node.focus();\n      });\n    }\n  }, [descendants, moveFocus, manageFocus]);\n  const setValue = useCallback((value2, index, handleFocus = true) => {\n    const nextValues = [...values];\n    nextValues[index] = value2;\n    setValues(nextValues);\n    const isComplete = value2 !== \"\" && nextValues.length === descendants.count() && nextValues.every((inputValue) => inputValue != null && inputValue !== \"\");\n    if (isComplete) {\n      onComplete == null ? void 0 : onComplete(nextValues.join(\"\"));\n    } else {\n      if (handleFocus)\n        focusNext(index);\n    }\n  }, [values, setValues, focusNext, onComplete, descendants]);\n  const clear = useCallback(() => {\n    var _a;\n    const values2 = Array(descendants.count()).fill(\"\");\n    setValues(values2);\n    const first = descendants.first();\n    (_a = first == null ? void 0 : first.node) == null ? void 0 : _a.focus();\n  }, [descendants, setValues]);\n  const getNextValue = useCallback((value2, eventValue) => {\n    let nextValue = eventValue;\n    if ((value2 == null ? void 0 : value2.length) > 0) {\n      if (value2[0] === eventValue.charAt(0)) {\n        nextValue = eventValue.charAt(1);\n      } else if (value2[0] === eventValue.charAt(1)) {\n        nextValue = eventValue.charAt(0);\n      }\n    }\n    return nextValue;\n  }, []);\n  const getInputProps = useCallback((props2) => {\n    const { index, ...rest } = props2;\n    const onChange2 = (event) => {\n      const eventValue = event.target.value;\n      const currentValue = values[index];\n      const nextValue = getNextValue(currentValue, eventValue);\n      if (nextValue === \"\") {\n        setValue(\"\", index);\n        return;\n      }\n      if (eventValue.length > 2) {\n        if (validate(eventValue, type)) {\n          const nextValue2 = eventValue.split(\"\").filter((_, index2) => index2 < descendants.count());\n          setValues(nextValue2);\n          if (nextValue2.length === descendants.count()) {\n            onComplete == null ? void 0 : onComplete(nextValue2.join(\"\"));\n          }\n        }\n      } else {\n        if (validate(nextValue, type)) {\n          setValue(nextValue, index);\n        }\n        setMoveFocus(true);\n      }\n    };\n    const onKeyDown = (event) => {\n      var _a;\n      if (event.key === \"Backspace\" && manageFocus) {\n        if (event.target.value === \"\") {\n          const prevInput = descendants.prev(index, false);\n          if (prevInput) {\n            setValue(\"\", index - 1, false);\n            (_a = prevInput.node) == null ? void 0 : _a.focus();\n            setMoveFocus(true);\n          }\n        } else {\n          setMoveFocus(false);\n        }\n      }\n    };\n    const onFocus = () => {\n      setFocusedIndex(index);\n    };\n    const onBlur = () => {\n      setFocusedIndex(-1);\n    };\n    const hasFocus = focusedIndex === index;\n    const inputType = type === \"number\" ? \"tel\" : \"text\";\n    return {\n      \"aria-label\": \"Please enter your pin code\",\n      inputMode: type === \"number\" ? \"numeric\" : \"text\",\n      type: mask ? \"password\" : inputType,\n      ...rest,\n      id: `${id}-${index}`,\n      disabled: isDisabled,\n      \"aria-invalid\": ariaAttr(isInvalid),\n      onChange: callAllHandlers(rest.onChange, onChange2),\n      onKeyDown: callAllHandlers(rest.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(rest.onFocus, onFocus),\n      onBlur: callAllHandlers(rest.onBlur, onBlur),\n      value: values[index] || \"\",\n      autoComplete: otp ? \"one-time-code\" : \"off\",\n      placeholder: hasFocus ? \"\" : placeholder\n    };\n  }, [\n    descendants,\n    focusedIndex,\n    getNextValue,\n    id,\n    isDisabled,\n    mask,\n    isInvalid,\n    manageFocus,\n    onComplete,\n    otp,\n    placeholder,\n    setValue,\n    setValues,\n    type,\n    values\n  ]);\n  return {\n    getInputProps,\n    id,\n    descendants,\n    values,\n    setValue,\n    setValues,\n    clear\n  };\n}\nfunction usePinInputField(props = {}, ref = null) {\n  const { getInputProps } = usePinInputContext();\n  const { index, register } = usePinInputDescendant();\n  return getInputProps({\n    ...props,\n    ref: mergeRefs(register, ref),\n    index\n  });\n}\n\n// src/pin-input.tsx\nimport { cloneElement } from \"react\";\nfunction PinInput(props) {\n  const styles = useStyleConfig(\"PinInput\", props);\n  const { children, ...rest } = omitThemingProps(props);\n  const { descendants, ...context } = usePinInput(rest);\n  const clones = getValidChildren(children).map((child) => cloneElement(child, { __css: styles }));\n  return /* @__PURE__ */ React.createElement(PinInputDescendantsProvider, {\n    value: descendants\n  }, /* @__PURE__ */ React.createElement(PinInputProvider, {\n    value: context\n  }, clones));\n}\nPinInput.displayName = \"PinInput\";\nvar PinInputField = forwardRef(function PinInputField2(props, ref) {\n  const inputProps = usePinInputField(props, ref);\n  return /* @__PURE__ */ React.createElement(chakra.input, {\n    ...inputProps,\n    className: cx(\"chakra-pin-input\", props.className)\n  });\n});\nPinInputField.displayName = \"PinInputField\";\nexport {\n  PinInput,\n  PinInputDescendantsProvider,\n  PinInputField,\n  PinInputProvider,\n  usePinInput,\n  usePinInputContext,\n  usePinInputDescendant,\n  usePinInputDescendants,\n  usePinInputDescendantsContext,\n  usePinInputField\n};\n"]},"metadata":{},"sourceType":"module"}