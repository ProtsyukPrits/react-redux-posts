{"ast":null,"code":"import _objectSpread from \"/home/dmytro/react-redux-posts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _objectWithoutProperties from \"/home/dmytro/react-redux-posts/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _slicedToArray from \"/home/dmytro/react-redux-posts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _excluded = [\"onChange\", \"onCancel\", \"onSubmit\", \"value\", \"isDisabled\", \"defaultValue\", \"startWithEditView\", \"isPreviewFocusable\", \"submitOnBlur\", \"selectAllOnFocus\", \"placeholder\", \"onEdit\"],\n    _excluded2 = [\"htmlProps\"];\n// ../../../react-shim.js\nimport React from \"react\"; // src/editable.tsx\n\nimport { cx, runIfFn } from \"@chakra-ui/shared-utils\";\nimport { chakra, forwardRef, omitThemingProps, useMultiStyleConfig } from \"@chakra-ui/system\"; // src/editable-context.ts\n\nimport { createContext } from \"@chakra-ui/react-context\";\n\nvar _createContext = createContext({\n  name: \"EditableStylesContext\",\n  errorMessage: \"useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in \\\"<Editable />\\\" \"\n}),\n    _createContext2 = _slicedToArray(_createContext, 2),\n    EditableStylesProvider = _createContext2[0],\n    useEditableStyles = _createContext2[1];\n\nvar _createContext3 = createContext({\n  name: \"EditableContext\",\n  errorMessage: \"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`\"\n}),\n    _createContext4 = _slicedToArray(_createContext3, 2),\n    EditableProvider = _createContext4[0],\n    useEditableContext = _createContext4[1]; // src/use-editable.ts\n\n\nimport { useFocusOnPointerDown } from \"@chakra-ui/react-use-focus-on-pointer-down\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/react-use-safe-layout-effect\";\nimport { useUpdateEffect } from \"@chakra-ui/react-use-update-effect\";\nimport { useControllableState } from \"@chakra-ui/react-use-controllable-state\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\";\nimport { ariaAttr, callAllHandlers } from \"@chakra-ui/shared-utils\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\n\nfunction contains(parent, child) {\n  if (!parent) return false;\n  return parent === child || parent.contains(child);\n}\n\nfunction useEditable() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var onChangeProp = props.onChange,\n      onCancelProp = props.onCancel,\n      onSubmitProp = props.onSubmit,\n      valueProp = props.value,\n      isDisabled = props.isDisabled,\n      defaultValue = props.defaultValue,\n      startWithEditView = props.startWithEditView,\n      _props$isPreviewFocus = props.isPreviewFocusable,\n      isPreviewFocusable = _props$isPreviewFocus === void 0 ? true : _props$isPreviewFocus,\n      _props$submitOnBlur = props.submitOnBlur,\n      submitOnBlur = _props$submitOnBlur === void 0 ? true : _props$submitOnBlur,\n      _props$selectAllOnFoc = props.selectAllOnFocus,\n      selectAllOnFocus = _props$selectAllOnFoc === void 0 ? true : _props$selectAllOnFoc,\n      placeholder = props.placeholder,\n      onEditCallback = props.onEdit,\n      htmlProps = _objectWithoutProperties(props, _excluded);\n\n  var onEditProp = useCallbackRef(onEditCallback);\n  var defaultIsEditing = Boolean(startWithEditView && !isDisabled);\n\n  var _useState = useState(defaultIsEditing),\n      _useState2 = _slicedToArray(_useState, 2),\n      isEditing = _useState2[0],\n      setIsEditing = _useState2[1];\n\n  var _useControllableState = useControllableState({\n    defaultValue: defaultValue || \"\",\n    value: valueProp,\n    onChange: onChangeProp\n  }),\n      _useControllableState2 = _slicedToArray(_useControllableState, 2),\n      value = _useControllableState2[0],\n      setValue = _useControllableState2[1];\n\n  var _useState3 = useState(value),\n      _useState4 = _slicedToArray(_useState3, 2),\n      prevValue = _useState4[0],\n      setPrevValue = _useState4[1];\n\n  var inputRef = useRef(null);\n  var previewRef = useRef(null);\n  var editButtonRef = useRef(null);\n  var cancelButtonRef = useRef(null);\n  var submitButtonRef = useRef(null);\n  useFocusOnPointerDown({\n    ref: inputRef,\n    enabled: isEditing,\n    elements: [cancelButtonRef, submitButtonRef]\n  });\n  var isInteractive = !isEditing && !isDisabled;\n  useSafeLayoutEffect(function () {\n    var _a, _b;\n\n    if (isEditing) {\n      (_a = inputRef.current) == null ? void 0 : _a.focus();\n      if (selectAllOnFocus) (_b = inputRef.current) == null ? void 0 : _b.select();\n    }\n  }, []);\n  useUpdateEffect(function () {\n    var _a, _b, _c;\n\n    if (!isEditing) {\n      (_a = editButtonRef.current) == null ? void 0 : _a.focus();\n      return;\n    }\n\n    (_b = inputRef.current) == null ? void 0 : _b.focus();\n\n    if (selectAllOnFocus) {\n      (_c = inputRef.current) == null ? void 0 : _c.select();\n    }\n\n    onEditProp == null ? void 0 : onEditProp();\n  }, [isEditing, onEditProp, selectAllOnFocus]);\n  var onEdit = useCallback(function () {\n    if (isInteractive) {\n      setIsEditing(true);\n    }\n  }, [isInteractive]);\n  var onUpdatePrevValue = useCallback(function () {\n    setPrevValue(value);\n  }, [value]);\n  var onCancel = useCallback(function () {\n    setIsEditing(false);\n    setValue(prevValue);\n    onCancelProp == null ? void 0 : onCancelProp(prevValue);\n  }, [onCancelProp, setValue, prevValue]);\n  var onSubmit = useCallback(function () {\n    setIsEditing(false);\n    setPrevValue(value);\n    onSubmitProp == null ? void 0 : onSubmitProp(value);\n  }, [value, onSubmitProp]);\n  useEffect(function () {\n    if (isEditing) return;\n    var inputEl = inputRef.current;\n\n    if ((inputEl == null ? void 0 : inputEl.ownerDocument.activeElement) === inputEl) {\n      inputEl == null ? void 0 : inputEl.blur();\n    }\n  }, [isEditing]);\n  var onChange = useCallback(function (event) {\n    setValue(event.currentTarget.value);\n  }, [setValue]);\n  var onKeyDown = useCallback(function (event) {\n    var eventKey = event.key;\n    var keyMap = {\n      Escape: onCancel,\n      Enter: function Enter(event2) {\n        if (!event2.shiftKey && !event2.metaKey) {\n          onSubmit();\n        }\n      }\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [onCancel, onSubmit]);\n  var onKeyDownWithoutSubmit = useCallback(function (event) {\n    var eventKey = event.key;\n    var keyMap = {\n      Escape: onCancel\n    };\n    var action = keyMap[eventKey];\n\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [onCancel]);\n  var isValueEmpty = value.length === 0;\n  var onBlur = useCallback(function (event) {\n    var _event$relatedTarget;\n\n    if (!isEditing) return;\n    var doc = event.currentTarget.ownerDocument;\n    var relatedTarget = (_event$relatedTarget = event.relatedTarget) !== null && _event$relatedTarget !== void 0 ? _event$relatedTarget : doc.activeElement;\n    var targetIsCancel = contains(cancelButtonRef.current, relatedTarget);\n    var targetIsSubmit = contains(submitButtonRef.current, relatedTarget);\n    var isValidBlur = !targetIsCancel && !targetIsSubmit;\n\n    if (isValidBlur) {\n      if (submitOnBlur) {\n        onSubmit();\n      } else {\n        onCancel();\n      }\n    }\n  }, [submitOnBlur, onSubmit, onCancel, isEditing]);\n  var getPreviewProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var tabIndex = isInteractive && isPreviewFocusable ? 0 : void 0;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      ref: mergeRefs(ref, previewRef),\n      children: isValueEmpty ? placeholder : value,\n      hidden: isEditing,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      tabIndex: tabIndex,\n      onFocus: callAllHandlers(props2.onFocus, onEdit, onUpdatePrevValue)\n    });\n  }, [isDisabled, isEditing, isInteractive, isPreviewFocusable, isValueEmpty, onEdit, onUpdatePrevValue, placeholder, value]);\n  var getInputProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      hidden: !isEditing,\n      placeholder: placeholder,\n      ref: mergeRefs(ref, inputRef),\n      disabled: isDisabled,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      value: value,\n      onBlur: callAllHandlers(props2.onBlur, onBlur),\n      onChange: callAllHandlers(props2.onChange, onChange),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n      onFocus: callAllHandlers(props2.onFocus, onUpdatePrevValue)\n    });\n  }, [isDisabled, isEditing, onBlur, onChange, onKeyDown, onUpdatePrevValue, placeholder, value]);\n  var getTextareaProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      hidden: !isEditing,\n      placeholder: placeholder,\n      ref: mergeRefs(ref, inputRef),\n      disabled: isDisabled,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      value: value,\n      onBlur: callAllHandlers(props2.onBlur, onBlur),\n      onChange: callAllHandlers(props2.onChange, onChange),\n      onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDownWithoutSubmit),\n      onFocus: callAllHandlers(props2.onFocus, onUpdatePrevValue)\n    });\n  }, [isDisabled, isEditing, onBlur, onChange, onKeyDownWithoutSubmit, onUpdatePrevValue, placeholder, value]);\n  var getEditButtonProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({\n      \"aria-label\": \"Edit\"\n    }, props2), {}, {\n      type: \"button\",\n      onClick: callAllHandlers(props2.onClick, onEdit),\n      ref: mergeRefs(ref, editButtonRef),\n      disabled: isDisabled\n    });\n  }, [onEdit, isDisabled]);\n  var getSubmitButtonProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({}, props2), {}, {\n      \"aria-label\": \"Submit\",\n      ref: mergeRefs(submitButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props2.onClick, onSubmit),\n      disabled: isDisabled\n    });\n  }, [onSubmit, isDisabled]);\n  var getCancelButtonProps = useCallback(function () {\n    var props2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    return _objectSpread(_objectSpread({\n      \"aria-label\": \"Cancel\",\n      id: \"cancel\"\n    }, props2), {}, {\n      ref: mergeRefs(cancelButtonRef, ref),\n      type: \"button\",\n      onClick: callAllHandlers(props2.onClick, onCancel),\n      disabled: isDisabled\n    });\n  }, [onCancel, isDisabled]);\n  return {\n    isEditing: isEditing,\n    isDisabled: isDisabled,\n    isValueEmpty: isValueEmpty,\n    value: value,\n    onEdit: onEdit,\n    onCancel: onCancel,\n    onSubmit: onSubmit,\n    getPreviewProps: getPreviewProps,\n    getInputProps: getInputProps,\n    getTextareaProps: getTextareaProps,\n    getEditButtonProps: getEditButtonProps,\n    getSubmitButtonProps: getSubmitButtonProps,\n    getCancelButtonProps: getCancelButtonProps,\n    htmlProps: htmlProps\n  };\n} // src/editable.tsx\n\n\nvar Editable = forwardRef(function Editable2(props, ref) {\n  var styles = useMultiStyleConfig(\"Editable\", props);\n  var ownProps = omitThemingProps(props);\n\n  var _useEditable = useEditable(ownProps),\n      htmlProps = _useEditable.htmlProps,\n      context = _objectWithoutProperties(_useEditable, _excluded2);\n\n  var isEditing = context.isEditing,\n      onSubmit = context.onSubmit,\n      onCancel = context.onCancel,\n      onEdit = context.onEdit;\n\n  var _className = cx(\"chakra-editable\", props.className);\n\n  var children = runIfFn(props.children, {\n    isEditing: isEditing,\n    onSubmit: onSubmit,\n    onCancel: onCancel,\n    onEdit: onEdit\n  });\n  return /* @__PURE__ */React.createElement(EditableProvider, {\n    value: context\n  }, /* @__PURE__ */React.createElement(EditableStylesProvider, {\n    value: styles\n  }, /* @__PURE__ */React.createElement(chakra.div, _objectSpread(_objectSpread({\n    ref: ref\n  }, htmlProps), {}, {\n    className: _className\n  }), children)));\n});\nEditable.displayName = \"Editable\"; // src/editable-input.tsx\n\nimport { chakra as chakra2, forwardRef as forwardRef2 } from \"@chakra-ui/system\";\nimport { cx as cx2 } from \"@chakra-ui/shared-utils\"; // src/shared.ts\n\nvar commonStyles = {\n  fontSize: \"inherit\",\n  fontWeight: \"inherit\",\n  textAlign: \"inherit\",\n  bg: \"transparent\"\n}; // src/editable-input.tsx\n\nvar EditableInput = forwardRef2(function EditableInput2(props, ref) {\n  var _useEditableContext = useEditableContext(),\n      getInputProps = _useEditableContext.getInputProps;\n\n  var styles = useEditableStyles();\n  var inputProps = getInputProps(props, ref);\n\n  var _className = cx2(\"chakra-editable__input\", props.className);\n\n  return /* @__PURE__ */React.createElement(chakra2.input, _objectSpread(_objectSpread({}, inputProps), {}, {\n    __css: _objectSpread(_objectSpread({\n      outline: 0\n    }, commonStyles), styles.input),\n    className: _className\n  }));\n});\nEditableInput.displayName = \"EditableInput\"; // src/editable-textarea.tsx\n\nimport { chakra as chakra3, forwardRef as forwardRef3 } from \"@chakra-ui/system\";\nimport { cx as cx3 } from \"@chakra-ui/shared-utils\";\nvar EditableTextarea = forwardRef3(function EditableTextarea2(props, ref) {\n  var _useEditableContext2 = useEditableContext(),\n      getTextareaProps = _useEditableContext2.getTextareaProps;\n\n  var styles = useEditableStyles();\n  var textareaProps = getTextareaProps(props, ref);\n\n  var _className = cx3(\"chakra-editable__textarea\", props.className);\n\n  return /* @__PURE__ */React.createElement(chakra3.textarea, _objectSpread(_objectSpread({}, textareaProps), {}, {\n    __css: _objectSpread(_objectSpread({\n      outline: 0\n    }, commonStyles), styles.textarea),\n    className: _className\n  }));\n});\nEditableTextarea.displayName = \"EditableTextarea\"; // src/editable-preview.tsx\n\nimport { chakra as chakra4, forwardRef as forwardRef4 } from \"@chakra-ui/system\";\nimport { cx as cx4 } from \"@chakra-ui/shared-utils\";\nvar EditablePreview = forwardRef4(function EditablePreview2(props, ref) {\n  var _useEditableContext3 = useEditableContext(),\n      getPreviewProps = _useEditableContext3.getPreviewProps;\n\n  var styles = useEditableStyles();\n  var previewProps = getPreviewProps(props, ref);\n\n  var _className = cx4(\"chakra-editable__preview\", props.className);\n\n  return /* @__PURE__ */React.createElement(chakra4.span, _objectSpread(_objectSpread({}, previewProps), {}, {\n    __css: _objectSpread(_objectSpread({\n      cursor: \"text\",\n      display: \"inline-block\"\n    }, commonStyles), styles.preview),\n    className: _className\n  }));\n});\nEditablePreview.displayName = \"EditablePreview\"; // src/use-editable-controls.tsx\n\nfunction useEditableControls() {\n  var _useEditableContext4 = useEditableContext(),\n      isEditing = _useEditableContext4.isEditing,\n      getEditButtonProps = _useEditableContext4.getEditButtonProps,\n      getCancelButtonProps = _useEditableContext4.getCancelButtonProps,\n      getSubmitButtonProps = _useEditableContext4.getSubmitButtonProps;\n\n  return {\n    isEditing: isEditing,\n    getEditButtonProps: getEditButtonProps,\n    getCancelButtonProps: getCancelButtonProps,\n    getSubmitButtonProps: getSubmitButtonProps\n  };\n} // src/use-editable-state.tsx\n\n\nfunction useEditableState() {\n  var _useEditableContext5 = useEditableContext(),\n      isEditing = _useEditableContext5.isEditing,\n      onSubmit = _useEditableContext5.onSubmit,\n      onCancel = _useEditableContext5.onCancel,\n      onEdit = _useEditableContext5.onEdit,\n      isDisabled = _useEditableContext5.isDisabled;\n\n  return {\n    isEditing: isEditing,\n    onSubmit: onSubmit,\n    onCancel: onCancel,\n    onEdit: onEdit,\n    isDisabled: isDisabled\n  };\n}\n\nexport { Editable, EditableInput, EditablePreview, EditableTextarea, useEditable, useEditableControls, useEditableState, useEditableStyles };","map":{"version":3,"sources":["/home/dmytro/react-redux-posts/node_modules/@chakra-ui/editable/dist/index.esm.js"],"names":["React","cx","runIfFn","chakra","forwardRef","omitThemingProps","useMultiStyleConfig","createContext","name","errorMessage","EditableStylesProvider","useEditableStyles","EditableProvider","useEditableContext","useFocusOnPointerDown","useSafeLayoutEffect","useUpdateEffect","useControllableState","mergeRefs","useCallbackRef","ariaAttr","callAllHandlers","useCallback","useEffect","useRef","useState","contains","parent","child","useEditable","props","onChangeProp","onChange","onCancelProp","onCancel","onSubmitProp","onSubmit","valueProp","value","isDisabled","defaultValue","startWithEditView","isPreviewFocusable","submitOnBlur","selectAllOnFocus","placeholder","onEditCallback","onEdit","htmlProps","onEditProp","defaultIsEditing","Boolean","isEditing","setIsEditing","setValue","prevValue","setPrevValue","inputRef","previewRef","editButtonRef","cancelButtonRef","submitButtonRef","ref","enabled","elements","isInteractive","_a","_b","current","focus","select","_c","onUpdatePrevValue","inputEl","ownerDocument","activeElement","blur","event","currentTarget","onKeyDown","eventKey","key","keyMap","Escape","Enter","event2","shiftKey","metaKey","action","preventDefault","onKeyDownWithoutSubmit","isValueEmpty","length","onBlur","doc","relatedTarget","targetIsCancel","targetIsSubmit","isValidBlur","getPreviewProps","props2","tabIndex","children","hidden","onFocus","getInputProps","disabled","getTextareaProps","getEditButtonProps","type","onClick","getSubmitButtonProps","getCancelButtonProps","id","Editable","Editable2","styles","ownProps","context","_className","className","createElement","div","displayName","chakra2","forwardRef2","cx2","commonStyles","fontSize","fontWeight","textAlign","bg","EditableInput","EditableInput2","inputProps","input","__css","outline","chakra3","forwardRef3","cx3","EditableTextarea","EditableTextarea2","textareaProps","textarea","chakra4","forwardRef4","cx4","EditablePreview","EditablePreview2","previewProps","span","cursor","display","preview","useEditableControls","useEditableState"],"mappings":"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","sourcesContent":["// ../../../react-shim.js\nimport React from \"react\";\n\n// src/editable.tsx\nimport { cx, runIfFn } from \"@chakra-ui/shared-utils\";\nimport {\n  chakra,\n  forwardRef,\n  omitThemingProps,\n  useMultiStyleConfig\n} from \"@chakra-ui/system\";\n\n// src/editable-context.ts\nimport { createContext } from \"@chakra-ui/react-context\";\nvar [EditableStylesProvider, useEditableStyles] = createContext({\n  name: `EditableStylesContext`,\n  errorMessage: `useEditableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Editable />\" `\n});\nvar [EditableProvider, useEditableContext] = createContext({\n  name: \"EditableContext\",\n  errorMessage: \"useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`\"\n});\n\n// src/use-editable.ts\nimport { useFocusOnPointerDown } from \"@chakra-ui/react-use-focus-on-pointer-down\";\nimport { useSafeLayoutEffect } from \"@chakra-ui/react-use-safe-layout-effect\";\nimport { useUpdateEffect } from \"@chakra-ui/react-use-update-effect\";\nimport { useControllableState } from \"@chakra-ui/react-use-controllable-state\";\nimport { mergeRefs } from \"@chakra-ui/react-use-merge-refs\";\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\";\nimport { ariaAttr, callAllHandlers } from \"@chakra-ui/shared-utils\";\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nfunction contains(parent, child) {\n  if (!parent)\n    return false;\n  return parent === child || parent.contains(child);\n}\nfunction useEditable(props = {}) {\n  const {\n    onChange: onChangeProp,\n    onCancel: onCancelProp,\n    onSubmit: onSubmitProp,\n    value: valueProp,\n    isDisabled,\n    defaultValue,\n    startWithEditView,\n    isPreviewFocusable = true,\n    submitOnBlur = true,\n    selectAllOnFocus = true,\n    placeholder,\n    onEdit: onEditCallback,\n    ...htmlProps\n  } = props;\n  const onEditProp = useCallbackRef(onEditCallback);\n  const defaultIsEditing = Boolean(startWithEditView && !isDisabled);\n  const [isEditing, setIsEditing] = useState(defaultIsEditing);\n  const [value, setValue] = useControllableState({\n    defaultValue: defaultValue || \"\",\n    value: valueProp,\n    onChange: onChangeProp\n  });\n  const [prevValue, setPrevValue] = useState(value);\n  const inputRef = useRef(null);\n  const previewRef = useRef(null);\n  const editButtonRef = useRef(null);\n  const cancelButtonRef = useRef(null);\n  const submitButtonRef = useRef(null);\n  useFocusOnPointerDown({\n    ref: inputRef,\n    enabled: isEditing,\n    elements: [cancelButtonRef, submitButtonRef]\n  });\n  const isInteractive = !isEditing && !isDisabled;\n  useSafeLayoutEffect(() => {\n    var _a, _b;\n    if (isEditing) {\n      (_a = inputRef.current) == null ? void 0 : _a.focus();\n      if (selectAllOnFocus)\n        (_b = inputRef.current) == null ? void 0 : _b.select();\n    }\n  }, []);\n  useUpdateEffect(() => {\n    var _a, _b, _c;\n    if (!isEditing) {\n      (_a = editButtonRef.current) == null ? void 0 : _a.focus();\n      return;\n    }\n    (_b = inputRef.current) == null ? void 0 : _b.focus();\n    if (selectAllOnFocus) {\n      (_c = inputRef.current) == null ? void 0 : _c.select();\n    }\n    onEditProp == null ? void 0 : onEditProp();\n  }, [isEditing, onEditProp, selectAllOnFocus]);\n  const onEdit = useCallback(() => {\n    if (isInteractive) {\n      setIsEditing(true);\n    }\n  }, [isInteractive]);\n  const onUpdatePrevValue = useCallback(() => {\n    setPrevValue(value);\n  }, [value]);\n  const onCancel = useCallback(() => {\n    setIsEditing(false);\n    setValue(prevValue);\n    onCancelProp == null ? void 0 : onCancelProp(prevValue);\n  }, [onCancelProp, setValue, prevValue]);\n  const onSubmit = useCallback(() => {\n    setIsEditing(false);\n    setPrevValue(value);\n    onSubmitProp == null ? void 0 : onSubmitProp(value);\n  }, [value, onSubmitProp]);\n  useEffect(() => {\n    if (isEditing)\n      return;\n    const inputEl = inputRef.current;\n    if ((inputEl == null ? void 0 : inputEl.ownerDocument.activeElement) === inputEl) {\n      inputEl == null ? void 0 : inputEl.blur();\n    }\n  }, [isEditing]);\n  const onChange = useCallback((event) => {\n    setValue(event.currentTarget.value);\n  }, [setValue]);\n  const onKeyDown = useCallback((event) => {\n    const eventKey = event.key;\n    const keyMap = {\n      Escape: onCancel,\n      Enter: (event2) => {\n        if (!event2.shiftKey && !event2.metaKey) {\n          onSubmit();\n        }\n      }\n    };\n    const action = keyMap[eventKey];\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [onCancel, onSubmit]);\n  const onKeyDownWithoutSubmit = useCallback((event) => {\n    const eventKey = event.key;\n    const keyMap = {\n      Escape: onCancel\n    };\n    const action = keyMap[eventKey];\n    if (action) {\n      event.preventDefault();\n      action(event);\n    }\n  }, [onCancel]);\n  const isValueEmpty = value.length === 0;\n  const onBlur = useCallback((event) => {\n    if (!isEditing)\n      return;\n    const doc = event.currentTarget.ownerDocument;\n    const relatedTarget = event.relatedTarget ?? doc.activeElement;\n    const targetIsCancel = contains(cancelButtonRef.current, relatedTarget);\n    const targetIsSubmit = contains(submitButtonRef.current, relatedTarget);\n    const isValidBlur = !targetIsCancel && !targetIsSubmit;\n    if (isValidBlur) {\n      if (submitOnBlur) {\n        onSubmit();\n      } else {\n        onCancel();\n      }\n    }\n  }, [submitOnBlur, onSubmit, onCancel, isEditing]);\n  const getPreviewProps = useCallback((props2 = {}, ref = null) => {\n    const tabIndex = isInteractive && isPreviewFocusable ? 0 : void 0;\n    return {\n      ...props2,\n      ref: mergeRefs(ref, previewRef),\n      children: isValueEmpty ? placeholder : value,\n      hidden: isEditing,\n      \"aria-disabled\": ariaAttr(isDisabled),\n      tabIndex,\n      onFocus: callAllHandlers(props2.onFocus, onEdit, onUpdatePrevValue)\n    };\n  }, [\n    isDisabled,\n    isEditing,\n    isInteractive,\n    isPreviewFocusable,\n    isValueEmpty,\n    onEdit,\n    onUpdatePrevValue,\n    placeholder,\n    value\n  ]);\n  const getInputProps = useCallback((props2 = {}, ref = null) => ({\n    ...props2,\n    hidden: !isEditing,\n    placeholder,\n    ref: mergeRefs(ref, inputRef),\n    disabled: isDisabled,\n    \"aria-disabled\": ariaAttr(isDisabled),\n    value,\n    onBlur: callAllHandlers(props2.onBlur, onBlur),\n    onChange: callAllHandlers(props2.onChange, onChange),\n    onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDown),\n    onFocus: callAllHandlers(props2.onFocus, onUpdatePrevValue)\n  }), [\n    isDisabled,\n    isEditing,\n    onBlur,\n    onChange,\n    onKeyDown,\n    onUpdatePrevValue,\n    placeholder,\n    value\n  ]);\n  const getTextareaProps = useCallback((props2 = {}, ref = null) => ({\n    ...props2,\n    hidden: !isEditing,\n    placeholder,\n    ref: mergeRefs(ref, inputRef),\n    disabled: isDisabled,\n    \"aria-disabled\": ariaAttr(isDisabled),\n    value,\n    onBlur: callAllHandlers(props2.onBlur, onBlur),\n    onChange: callAllHandlers(props2.onChange, onChange),\n    onKeyDown: callAllHandlers(props2.onKeyDown, onKeyDownWithoutSubmit),\n    onFocus: callAllHandlers(props2.onFocus, onUpdatePrevValue)\n  }), [\n    isDisabled,\n    isEditing,\n    onBlur,\n    onChange,\n    onKeyDownWithoutSubmit,\n    onUpdatePrevValue,\n    placeholder,\n    value\n  ]);\n  const getEditButtonProps = useCallback((props2 = {}, ref = null) => ({\n    \"aria-label\": \"Edit\",\n    ...props2,\n    type: \"button\",\n    onClick: callAllHandlers(props2.onClick, onEdit),\n    ref: mergeRefs(ref, editButtonRef),\n    disabled: isDisabled\n  }), [onEdit, isDisabled]);\n  const getSubmitButtonProps = useCallback((props2 = {}, ref = null) => ({\n    ...props2,\n    \"aria-label\": \"Submit\",\n    ref: mergeRefs(submitButtonRef, ref),\n    type: \"button\",\n    onClick: callAllHandlers(props2.onClick, onSubmit),\n    disabled: isDisabled\n  }), [onSubmit, isDisabled]);\n  const getCancelButtonProps = useCallback((props2 = {}, ref = null) => ({\n    \"aria-label\": \"Cancel\",\n    id: \"cancel\",\n    ...props2,\n    ref: mergeRefs(cancelButtonRef, ref),\n    type: \"button\",\n    onClick: callAllHandlers(props2.onClick, onCancel),\n    disabled: isDisabled\n  }), [onCancel, isDisabled]);\n  return {\n    isEditing,\n    isDisabled,\n    isValueEmpty,\n    value,\n    onEdit,\n    onCancel,\n    onSubmit,\n    getPreviewProps,\n    getInputProps,\n    getTextareaProps,\n    getEditButtonProps,\n    getSubmitButtonProps,\n    getCancelButtonProps,\n    htmlProps\n  };\n}\n\n// src/editable.tsx\nvar Editable = forwardRef(function Editable2(props, ref) {\n  const styles = useMultiStyleConfig(\"Editable\", props);\n  const ownProps = omitThemingProps(props);\n  const { htmlProps, ...context } = useEditable(ownProps);\n  const { isEditing, onSubmit, onCancel, onEdit } = context;\n  const _className = cx(\"chakra-editable\", props.className);\n  const children = runIfFn(props.children, {\n    isEditing,\n    onSubmit,\n    onCancel,\n    onEdit\n  });\n  return /* @__PURE__ */ React.createElement(EditableProvider, {\n    value: context\n  }, /* @__PURE__ */ React.createElement(EditableStylesProvider, {\n    value: styles\n  }, /* @__PURE__ */ React.createElement(chakra.div, {\n    ref,\n    ...htmlProps,\n    className: _className\n  }, children)));\n});\nEditable.displayName = \"Editable\";\n\n// src/editable-input.tsx\nimport { chakra as chakra2, forwardRef as forwardRef2 } from \"@chakra-ui/system\";\nimport { cx as cx2 } from \"@chakra-ui/shared-utils\";\n\n// src/shared.ts\nvar commonStyles = {\n  fontSize: \"inherit\",\n  fontWeight: \"inherit\",\n  textAlign: \"inherit\",\n  bg: \"transparent\"\n};\n\n// src/editable-input.tsx\nvar EditableInput = forwardRef2(function EditableInput2(props, ref) {\n  const { getInputProps } = useEditableContext();\n  const styles = useEditableStyles();\n  const inputProps = getInputProps(props, ref);\n  const _className = cx2(\"chakra-editable__input\", props.className);\n  return /* @__PURE__ */ React.createElement(chakra2.input, {\n    ...inputProps,\n    __css: {\n      outline: 0,\n      ...commonStyles,\n      ...styles.input\n    },\n    className: _className\n  });\n});\nEditableInput.displayName = \"EditableInput\";\n\n// src/editable-textarea.tsx\nimport { chakra as chakra3, forwardRef as forwardRef3 } from \"@chakra-ui/system\";\nimport { cx as cx3 } from \"@chakra-ui/shared-utils\";\nvar EditableTextarea = forwardRef3(function EditableTextarea2(props, ref) {\n  const { getTextareaProps } = useEditableContext();\n  const styles = useEditableStyles();\n  const textareaProps = getTextareaProps(props, ref);\n  const _className = cx3(\"chakra-editable__textarea\", props.className);\n  return /* @__PURE__ */ React.createElement(chakra3.textarea, {\n    ...textareaProps,\n    __css: {\n      outline: 0,\n      ...commonStyles,\n      ...styles.textarea\n    },\n    className: _className\n  });\n});\nEditableTextarea.displayName = \"EditableTextarea\";\n\n// src/editable-preview.tsx\nimport { chakra as chakra4, forwardRef as forwardRef4 } from \"@chakra-ui/system\";\nimport { cx as cx4 } from \"@chakra-ui/shared-utils\";\nvar EditablePreview = forwardRef4(function EditablePreview2(props, ref) {\n  const { getPreviewProps } = useEditableContext();\n  const styles = useEditableStyles();\n  const previewProps = getPreviewProps(props, ref);\n  const _className = cx4(\"chakra-editable__preview\", props.className);\n  return /* @__PURE__ */ React.createElement(chakra4.span, {\n    ...previewProps,\n    __css: {\n      cursor: \"text\",\n      display: \"inline-block\",\n      ...commonStyles,\n      ...styles.preview\n    },\n    className: _className\n  });\n});\nEditablePreview.displayName = \"EditablePreview\";\n\n// src/use-editable-controls.tsx\nfunction useEditableControls() {\n  const {\n    isEditing,\n    getEditButtonProps,\n    getCancelButtonProps,\n    getSubmitButtonProps\n  } = useEditableContext();\n  return {\n    isEditing,\n    getEditButtonProps,\n    getCancelButtonProps,\n    getSubmitButtonProps\n  };\n}\n\n// src/use-editable-state.tsx\nfunction useEditableState() {\n  const { isEditing, onSubmit, onCancel, onEdit, isDisabled } = useEditableContext();\n  return {\n    isEditing,\n    onSubmit,\n    onCancel,\n    onEdit,\n    isDisabled\n  };\n}\nexport {\n  Editable,\n  EditableInput,\n  EditablePreview,\n  EditableTextarea,\n  useEditable,\n  useEditableControls,\n  useEditableState,\n  useEditableStyles\n};\n"]},"metadata":{},"sourceType":"module"}