{"ast":null,"code":"import _slicedToArray from \"/home/dmytro/react-redux-posts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\n// src/index.ts\nfunction trackElementSize(element, callback) {\n  var _element$ownerDocumen;\n\n  if (!element) {\n    callback(void 0);\n    return;\n  }\n\n  callback({\n    width: element.offsetWidth,\n    height: element.offsetHeight\n  });\n  var win = (_element$ownerDocumen = element.ownerDocument.defaultView) !== null && _element$ownerDocumen !== void 0 ? _element$ownerDocumen : window;\n  var observer = new win.ResizeObserver(function (entries) {\n    if (!Array.isArray(entries) || !entries.length) return;\n\n    var _entries = _slicedToArray(entries, 1),\n        entry = _entries[0];\n\n    var width;\n    var height;\n\n    if (\"borderBoxSize\" in entry) {\n      var borderSizeEntry = entry[\"borderBoxSize\"];\n      var borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n      width = borderSize[\"inlineSize\"];\n      height = borderSize[\"blockSize\"];\n    } else {\n      width = element.offsetWidth;\n      height = element.offsetHeight;\n    }\n\n    callback({\n      width: width,\n      height: height\n    });\n  });\n  observer.observe(element, {\n    box: \"border-box\"\n  });\n  return function () {\n    return observer.unobserve(element);\n  };\n}\n\nexport { trackElementSize };","map":{"version":3,"sources":["/home/dmytro/react-redux-posts/node_modules/@zag-js/element-size/dist/index.mjs"],"names":["trackElementSize","element","callback","width","offsetWidth","height","offsetHeight","win","ownerDocument","defaultView","window","observer","ResizeObserver","entries","Array","isArray","length","entry","borderSizeEntry","borderSize","observe","box","unobserve"],"mappings":";;AAAA;AACA,SAASA,gBAAT,CAA0BC,OAA1B,EAAmCC,QAAnC,EAA6C;AAAA;;AAC3C,MAAI,CAACD,OAAL,EAAc;AACZC,IAAAA,QAAQ,CAAC,KAAK,CAAN,CAAR;AACA;AACD;;AACDA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,KAAK,EAAEF,OAAO,CAACG,WAAjB;AAA8BC,IAAAA,MAAM,EAAEJ,OAAO,CAACK;AAA9C,GAAD,CAAR;AACA,MAAMC,GAAG,4BAAGN,OAAO,CAACO,aAAR,CAAsBC,WAAzB,yEAAwCC,MAAjD;AACA,MAAMC,QAAQ,GAAG,IAAIJ,GAAG,CAACK,cAAR,CAAuB,UAACC,OAAD,EAAa;AACnD,QAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,OAAd,CAAD,IAA2B,CAACA,OAAO,CAACG,MAAxC,EACE;;AACF,kCAAgBH,OAAhB;AAAA,QAAOI,KAAP;;AACA,QAAId,KAAJ;AACA,QAAIE,MAAJ;;AACA,QAAI,mBAAmBY,KAAvB,EAA8B;AAC5B,UAAMC,eAAe,GAAGD,KAAK,CAAC,eAAD,CAA7B;AACA,UAAME,UAAU,GAAGL,KAAK,CAACC,OAAN,CAAcG,eAAd,IAAiCA,eAAe,CAAC,CAAD,CAAhD,GAAsDA,eAAzE;AACAf,MAAAA,KAAK,GAAGgB,UAAU,CAAC,YAAD,CAAlB;AACAd,MAAAA,MAAM,GAAGc,UAAU,CAAC,WAAD,CAAnB;AACD,KALD,MAKO;AACLhB,MAAAA,KAAK,GAAGF,OAAO,CAACG,WAAhB;AACAC,MAAAA,MAAM,GAAGJ,OAAO,CAACK,YAAjB;AACD;;AACDJ,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,KAAK,EAALA,KAAF;AAASE,MAAAA,MAAM,EAANA;AAAT,KAAD,CAAR;AACD,GAhBgB,CAAjB;AAiBAM,EAAAA,QAAQ,CAACS,OAAT,CAAiBnB,OAAjB,EAA0B;AAAEoB,IAAAA,GAAG,EAAE;AAAP,GAA1B;AACA,SAAO;AAAA,WAAMV,QAAQ,CAACW,SAAT,CAAmBrB,OAAnB,CAAN;AAAA,GAAP;AACD;;AACD,SACED,gBADF","sourcesContent":["// src/index.ts\nfunction trackElementSize(element, callback) {\n  if (!element) {\n    callback(void 0);\n    return;\n  }\n  callback({ width: element.offsetWidth, height: element.offsetHeight });\n  const win = element.ownerDocument.defaultView ?? window;\n  const observer = new win.ResizeObserver((entries) => {\n    if (!Array.isArray(entries) || !entries.length)\n      return;\n    const [entry] = entries;\n    let width;\n    let height;\n    if (\"borderBoxSize\" in entry) {\n      const borderSizeEntry = entry[\"borderBoxSize\"];\n      const borderSize = Array.isArray(borderSizeEntry) ? borderSizeEntry[0] : borderSizeEntry;\n      width = borderSize[\"inlineSize\"];\n      height = borderSize[\"blockSize\"];\n    } else {\n      width = element.offsetWidth;\n      height = element.offsetHeight;\n    }\n    callback({ width, height });\n  });\n  observer.observe(element, { box: \"border-box\" });\n  return () => observer.unobserve(element);\n}\nexport {\n  trackElementSize\n};\n"]},"metadata":{},"sourceType":"module"}