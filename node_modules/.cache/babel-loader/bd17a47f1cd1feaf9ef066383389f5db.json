{"ast":null,"code":"import _slicedToArray from \"/home/dmytro/react-redux-posts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// src/use-counter.ts\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\";\nimport { clampValue, countDecimalPlaces, toPrecision } from \"@chakra-ui/number-utils\";\nimport { useCallback, useState } from \"react\";\n\nfunction useCounter() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var onChange = props.onChange,\n      precisionProp = props.precision,\n      defaultValue = props.defaultValue,\n      valueProp = props.value,\n      _props$step = props.step,\n      stepProp = _props$step === void 0 ? 1 : _props$step,\n      _props$min = props.min,\n      min = _props$min === void 0 ? Number.MIN_SAFE_INTEGER : _props$min,\n      _props$max = props.max,\n      max = _props$max === void 0 ? Number.MAX_SAFE_INTEGER : _props$max,\n      _props$keepWithinRang = props.keepWithinRange,\n      keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang;\n  var onChangeProp = useCallbackRef(onChange);\n\n  var _useState = useState(function () {\n    var _cast;\n\n    if (defaultValue == null) return \"\";\n    return (_cast = cast(defaultValue, stepProp, precisionProp)) !== null && _cast !== void 0 ? _cast : \"\";\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      valueState = _useState2[0],\n      setValue = _useState2[1];\n\n  var isControlled = typeof valueProp !== \"undefined\";\n  var value = isControlled ? valueProp : valueState;\n  var decimalPlaces = getDecimalPlaces(parse(value), stepProp);\n  var precision = precisionProp !== null && precisionProp !== void 0 ? precisionProp : decimalPlaces;\n  var update = useCallback(function (next) {\n    if (next === value) return;\n\n    if (!isControlled) {\n      setValue(next.toString());\n    }\n\n    onChangeProp == null ? void 0 : onChangeProp(next.toString(), parse(next));\n  }, [onChangeProp, isControlled, value]);\n  var clamp = useCallback(function (value2) {\n    var nextValue = value2;\n\n    if (keepWithinRange) {\n      nextValue = clampValue(nextValue, min, max);\n    }\n\n    return toPrecision(nextValue, precision);\n  }, [precision, keepWithinRange, max, min]);\n  var increment = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n    var next;\n\n    if (value === \"\") {\n      next = parse(step);\n    } else {\n      next = parse(value) + step;\n    }\n\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var decrement = useCallback(function () {\n    var step = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : stepProp;\n    var next;\n\n    if (value === \"\") {\n      next = parse(-step);\n    } else {\n      next = parse(value) - step;\n    }\n\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  var reset = useCallback(function () {\n    var next;\n\n    if (defaultValue == null) {\n      next = \"\";\n    } else {\n      var _cast2;\n\n      next = (_cast2 = cast(defaultValue, stepProp, precisionProp)) !== null && _cast2 !== void 0 ? _cast2 : min;\n    }\n\n    update(next);\n  }, [defaultValue, precisionProp, stepProp, update, min]);\n  var castValue = useCallback(function (value2) {\n    var _cast3;\n\n    var nextValue = (_cast3 = cast(value2, stepProp, precision)) !== null && _cast3 !== void 0 ? _cast3 : min;\n    update(nextValue);\n  }, [precision, stepProp, update, min]);\n  var valueAsNumber = parse(value);\n  var isOutOfRange = valueAsNumber > max || valueAsNumber < min;\n  var isAtMax = valueAsNumber === max;\n  var isAtMin = valueAsNumber === min;\n  return {\n    isOutOfRange: isOutOfRange,\n    isAtMax: isAtMax,\n    isAtMin: isAtMin,\n    precision: precision,\n    value: value,\n    valueAsNumber: valueAsNumber,\n    update: update,\n    reset: reset,\n    increment: increment,\n    decrement: decrement,\n    clamp: clamp,\n    cast: castValue,\n    setValue: setValue\n  };\n}\n\nfunction parse(value) {\n  return parseFloat(value.toString().replace(/[^\\w.-]+/g, \"\"));\n}\n\nfunction getDecimalPlaces(value, step) {\n  return Math.max(countDecimalPlaces(step), countDecimalPlaces(value));\n}\n\nfunction cast(value, step, precision) {\n  var parsedValue = parse(value);\n  if (Number.isNaN(parsedValue)) return void 0;\n  var decimalPlaces = getDecimalPlaces(parsedValue, step);\n  return toPrecision(parsedValue, precision !== null && precision !== void 0 ? precision : decimalPlaces);\n}\n\nexport { useCounter };","map":{"version":3,"sources":["/home/dmytro/react-redux-posts/node_modules/@chakra-ui/counter/dist/index.esm.js"],"names":["useCallbackRef","clampValue","countDecimalPlaces","toPrecision","useCallback","useState","useCounter","props","onChange","precisionProp","precision","defaultValue","valueProp","value","step","stepProp","min","Number","MIN_SAFE_INTEGER","max","MAX_SAFE_INTEGER","keepWithinRange","onChangeProp","cast","valueState","setValue","isControlled","decimalPlaces","getDecimalPlaces","parse","update","next","toString","clamp","value2","nextValue","increment","decrement","reset","castValue","valueAsNumber","isOutOfRange","isAtMax","isAtMin","parseFloat","replace","Math","parsedValue","isNaN"],"mappings":"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","sourcesContent":["// src/use-counter.ts\nimport { useCallbackRef } from \"@chakra-ui/react-use-callback-ref\";\nimport {\n  clampValue,\n  countDecimalPlaces,\n  toPrecision\n} from \"@chakra-ui/number-utils\";\nimport { useCallback, useState } from \"react\";\nfunction useCounter(props = {}) {\n  const {\n    onChange,\n    precision: precisionProp,\n    defaultValue,\n    value: valueProp,\n    step: stepProp = 1,\n    min = Number.MIN_SAFE_INTEGER,\n    max = Number.MAX_SAFE_INTEGER,\n    keepWithinRange = true\n  } = props;\n  const onChangeProp = useCallbackRef(onChange);\n  const [valueState, setValue] = useState(() => {\n    if (defaultValue == null)\n      return \"\";\n    return cast(defaultValue, stepProp, precisionProp) ?? \"\";\n  });\n  const isControlled = typeof valueProp !== \"undefined\";\n  const value = isControlled ? valueProp : valueState;\n  const decimalPlaces = getDecimalPlaces(parse(value), stepProp);\n  const precision = precisionProp ?? decimalPlaces;\n  const update = useCallback((next) => {\n    if (next === value)\n      return;\n    if (!isControlled) {\n      setValue(next.toString());\n    }\n    onChangeProp == null ? void 0 : onChangeProp(next.toString(), parse(next));\n  }, [onChangeProp, isControlled, value]);\n  const clamp = useCallback((value2) => {\n    let nextValue = value2;\n    if (keepWithinRange) {\n      nextValue = clampValue(nextValue, min, max);\n    }\n    return toPrecision(nextValue, precision);\n  }, [precision, keepWithinRange, max, min]);\n  const increment = useCallback((step = stepProp) => {\n    let next;\n    if (value === \"\") {\n      next = parse(step);\n    } else {\n      next = parse(value) + step;\n    }\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  const decrement = useCallback((step = stepProp) => {\n    let next;\n    if (value === \"\") {\n      next = parse(-step);\n    } else {\n      next = parse(value) - step;\n    }\n    next = clamp(next);\n    update(next);\n  }, [clamp, stepProp, update, value]);\n  const reset = useCallback(() => {\n    let next;\n    if (defaultValue == null) {\n      next = \"\";\n    } else {\n      next = cast(defaultValue, stepProp, precisionProp) ?? min;\n    }\n    update(next);\n  }, [defaultValue, precisionProp, stepProp, update, min]);\n  const castValue = useCallback((value2) => {\n    const nextValue = cast(value2, stepProp, precision) ?? min;\n    update(nextValue);\n  }, [precision, stepProp, update, min]);\n  const valueAsNumber = parse(value);\n  const isOutOfRange = valueAsNumber > max || valueAsNumber < min;\n  const isAtMax = valueAsNumber === max;\n  const isAtMin = valueAsNumber === min;\n  return {\n    isOutOfRange,\n    isAtMax,\n    isAtMin,\n    precision,\n    value,\n    valueAsNumber,\n    update,\n    reset,\n    increment,\n    decrement,\n    clamp,\n    cast: castValue,\n    setValue\n  };\n}\nfunction parse(value) {\n  return parseFloat(value.toString().replace(/[^\\w.-]+/g, \"\"));\n}\nfunction getDecimalPlaces(value, step) {\n  return Math.max(countDecimalPlaces(step), countDecimalPlaces(value));\n}\nfunction cast(value, step, precision) {\n  const parsedValue = parse(value);\n  if (Number.isNaN(parsedValue))\n    return void 0;\n  const decimalPlaces = getDecimalPlaces(parsedValue, step);\n  return toPrecision(parsedValue, precision ?? decimalPlaces);\n}\nexport {\n  useCounter\n};\n"]},"metadata":{},"sourceType":"module"}