{"ast":null,"code":"// src/index.ts\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\";\n\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\n\nvar isDom = function isDom() {\n  return typeof window !== \"undefined\";\n};\n\nfunction getPlatform() {\n  var _ref;\n\n  var agent = navigator.userAgentData;\n  return (_ref = agent == null ? void 0 : agent.platform) !== null && _ref !== void 0 ? _ref : navigator.platform;\n}\n\nvar vn = function vn(v) {\n  return isDom() && v.test(navigator.vendor);\n};\n\nvar pt = function pt(v) {\n  return isDom() && v.test(getPlatform());\n};\n\nvar isApple = function isApple() {\n  return pt(/mac|iphone|ipad|ipod/i);\n};\n\nvar isSafari = function isSafari() {\n  return isApple() && vn(/apple/i);\n};\n\nfunction useFocusOnPointerDown(props) {\n  var ref = props.ref,\n      elements = props.elements,\n      enabled = props.enabled;\n\n  var doc = function doc() {\n    var _ref2;\n\n    var _a;\n\n    return (_ref2 = (_a = ref.current) == null ? void 0 : _a.ownerDocument) !== null && _ref2 !== void 0 ? _ref2 : document;\n  };\n\n  useEventListener(doc, \"pointerdown\", function (event) {\n    if (!isSafari() || !enabled) return;\n    var target = event.target;\n    var els = elements !== null && elements !== void 0 ? elements : [ref];\n    var isValidTarget = els.some(function (elementOrRef) {\n      var el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return (el == null ? void 0 : el.contains(target)) || el === target;\n    });\n\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\n\nexport { useFocusOnPointerDown };","map":{"version":3,"sources":["/home/dmytro/react-redux-posts/node_modules/@chakra-ui/react-use-focus-on-pointer-down/dist/index.esm.js"],"names":["useEventListener","isRefObject","val","isDom","window","getPlatform","agent","navigator","userAgentData","platform","vn","v","test","vendor","pt","isApple","isSafari","useFocusOnPointerDown","props","ref","elements","enabled","doc","_a","current","ownerDocument","document","event","target","els","isValidTarget","some","elementOrRef","el","contains","activeElement","preventDefault","focus"],"mappings":"AAAA;AACA,SAASA,gBAAT,QAAiC,qCAAjC;;AACA,SAASC,WAAT,CAAqBC,GAArB,EAA0B;AACxB,SAAO,aAAaA,GAApB;AACD;;AACD,IAAIC,KAAK,GAAG,SAARA,KAAQ;AAAA,SAAM,OAAOC,MAAP,KAAkB,WAAxB;AAAA,CAAZ;;AACA,SAASC,WAAT,GAAuB;AAAA;;AACrB,MAAMC,KAAK,GAAGC,SAAS,CAACC,aAAxB;AACA,iBAAQF,KAAK,IAAI,IAAT,GAAgB,KAAK,CAArB,GAAyBA,KAAK,CAACG,QAAvC,uCAAoDF,SAAS,CAACE,QAA9D;AACD;;AACD,IAAIC,EAAE,GAAG,SAALA,EAAK,CAACC,CAAD;AAAA,SAAOR,KAAK,MAAMQ,CAAC,CAACC,IAAF,CAAOL,SAAS,CAACM,MAAjB,CAAlB;AAAA,CAAT;;AACA,IAAIC,EAAE,GAAG,SAALA,EAAK,CAACH,CAAD;AAAA,SAAOR,KAAK,MAAMQ,CAAC,CAACC,IAAF,CAAOP,WAAW,EAAlB,CAAlB;AAAA,CAAT;;AACA,IAAIU,OAAO,GAAG,SAAVA,OAAU;AAAA,SAAMD,EAAE,CAAC,uBAAD,CAAR;AAAA,CAAd;;AACA,IAAIE,QAAQ,GAAG,SAAXA,QAAW;AAAA,SAAMD,OAAO,MAAML,EAAE,CAAC,QAAD,CAArB;AAAA,CAAf;;AACA,SAASO,qBAAT,CAA+BC,KAA/B,EAAsC;AACpC,MAAQC,GAAR,GAAmCD,KAAnC,CAAQC,GAAR;AAAA,MAAaC,QAAb,GAAmCF,KAAnC,CAAaE,QAAb;AAAA,MAAuBC,OAAvB,GAAmCH,KAAnC,CAAuBG,OAAvB;;AACA,MAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AAAA;;AAChB,QAAIC,EAAJ;;AACA,oBAAQ,CAACA,EAAE,GAAGJ,GAAG,CAACK,OAAV,KAAsB,IAAtB,GAA6B,KAAK,CAAlC,GAAsCD,EAAE,CAACE,aAAjD,yCAAmEC,QAAnE;AACD,GAHD;;AAIA1B,EAAAA,gBAAgB,CAACsB,GAAD,EAAM,aAAN,EAAqB,UAACK,KAAD,EAAW;AAC9C,QAAI,CAACX,QAAQ,EAAT,IAAe,CAACK,OAApB,EACE;AACF,QAAMO,MAAM,GAAGD,KAAK,CAACC,MAArB;AACA,QAAMC,GAAG,GAAGT,QAAH,aAAGA,QAAH,cAAGA,QAAH,GAAe,CAACD,GAAD,CAAxB;AACA,QAAMW,aAAa,GAAGD,GAAG,CAACE,IAAJ,CAAS,UAACC,YAAD,EAAkB;AAC/C,UAAMC,EAAE,GAAGhC,WAAW,CAAC+B,YAAD,CAAX,GAA4BA,YAAY,CAACR,OAAzC,GAAmDQ,YAA9D;AACA,aAAO,CAACC,EAAE,IAAI,IAAN,GAAa,KAAK,CAAlB,GAAsBA,EAAE,CAACC,QAAH,CAAYN,MAAZ,CAAvB,KAA+CK,EAAE,KAAKL,MAA7D;AACD,KAHqB,CAAtB;;AAIA,QAAIN,GAAG,GAAGa,aAAN,KAAwBP,MAAxB,IAAkCE,aAAtC,EAAqD;AACnDH,MAAAA,KAAK,CAACS,cAAN;AACAR,MAAAA,MAAM,CAACS,KAAP;AACD;AACF,GAbe,CAAhB;AAcD;;AACD,SACEpB,qBADF","sourcesContent":["// src/index.ts\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\";\nfunction isRefObject(val) {\n  return \"current\" in val;\n}\nvar isDom = () => typeof window !== \"undefined\";\nfunction getPlatform() {\n  const agent = navigator.userAgentData;\n  return (agent == null ? void 0 : agent.platform) ?? navigator.platform;\n}\nvar vn = (v) => isDom() && v.test(navigator.vendor);\nvar pt = (v) => isDom() && v.test(getPlatform());\nvar isApple = () => pt(/mac|iphone|ipad|ipod/i);\nvar isSafari = () => isApple() && vn(/apple/i);\nfunction useFocusOnPointerDown(props) {\n  const { ref, elements, enabled } = props;\n  const doc = () => {\n    var _a;\n    return ((_a = ref.current) == null ? void 0 : _a.ownerDocument) ?? document;\n  };\n  useEventListener(doc, \"pointerdown\", (event) => {\n    if (!isSafari() || !enabled)\n      return;\n    const target = event.target;\n    const els = elements ?? [ref];\n    const isValidTarget = els.some((elementOrRef) => {\n      const el = isRefObject(elementOrRef) ? elementOrRef.current : elementOrRef;\n      return (el == null ? void 0 : el.contains(target)) || el === target;\n    });\n    if (doc().activeElement !== target && isValidTarget) {\n      event.preventDefault();\n      target.focus();\n    }\n  });\n}\nexport {\n  useFocusOnPointerDown\n};\n"]},"metadata":{},"sourceType":"module"}