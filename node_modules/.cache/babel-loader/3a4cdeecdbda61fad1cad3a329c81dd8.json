{"ast":null,"code":"import _slicedToArray from \"/home/dmytro/react-redux-posts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n// src/index.ts\nimport { useEffect, useState } from \"react\";\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\";\nimport { getOwnerWindow } from \"@chakra-ui/dom-utils\";\n\nfunction useAnimationState(props) {\n  var isOpen = props.isOpen,\n      ref = props.ref;\n\n  var _useState = useState(isOpen),\n      _useState2 = _slicedToArray(_useState, 2),\n      mounted = _useState2[0],\n      setMounted = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      once = _useState4[0],\n      setOnce = _useState4[1];\n\n  useEffect(function () {\n    if (!once) {\n      setMounted(isOpen);\n      setOnce(true);\n    }\n  }, [isOpen, once, mounted]);\n  useEventListener(function () {\n    return ref.current;\n  }, \"animationend\", function () {\n    setMounted(isOpen);\n  });\n  var hidden = isOpen ? false : !mounted;\n  return {\n    present: !hidden,\n    onComplete: function onComplete() {\n      var _a;\n\n      var win = getOwnerWindow(ref.current);\n      var evt = new win.CustomEvent(\"animationend\", {\n        bubbles: true\n      });\n      (_a = ref.current) == null ? void 0 : _a.dispatchEvent(evt);\n    }\n  };\n}\n\nexport { useAnimationState };","map":{"version":3,"sources":["/home/dmytro/react-redux-posts/node_modules/@chakra-ui/react-use-animation-state/dist/index.esm.js"],"names":["useEffect","useState","useEventListener","getOwnerWindow","useAnimationState","props","isOpen","ref","mounted","setMounted","once","setOnce","current","hidden","present","onComplete","_a","win","evt","CustomEvent","bubbles","dispatchEvent"],"mappings":";AAAA;AACA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,gBAAT,QAAiC,qCAAjC;AACA,SAASC,cAAT,QAA+B,sBAA/B;;AACA,SAASC,iBAAT,CAA2BC,KAA3B,EAAkC;AAChC,MAAQC,MAAR,GAAwBD,KAAxB,CAAQC,MAAR;AAAA,MAAgBC,GAAhB,GAAwBF,KAAxB,CAAgBE,GAAhB;;AACA,kBAA8BN,QAAQ,CAACK,MAAD,CAAtC;AAAA;AAAA,MAAOE,OAAP;AAAA,MAAgBC,UAAhB;;AACA,mBAAwBR,QAAQ,CAAC,KAAD,CAAhC;AAAA;AAAA,MAAOS,IAAP;AAAA,MAAaC,OAAb;;AACAX,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACU,IAAL,EAAW;AACTD,MAAAA,UAAU,CAACH,MAAD,CAAV;AACAK,MAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF,GALQ,EAKN,CAACL,MAAD,EAASI,IAAT,EAAeF,OAAf,CALM,CAAT;AAMAN,EAAAA,gBAAgB,CAAC;AAAA,WAAMK,GAAG,CAACK,OAAV;AAAA,GAAD,EAAoB,cAApB,EAAoC,YAAM;AACxDH,IAAAA,UAAU,CAACH,MAAD,CAAV;AACD,GAFe,CAAhB;AAGA,MAAMO,MAAM,GAAGP,MAAM,GAAG,KAAH,GAAW,CAACE,OAAjC;AACA,SAAO;AACLM,IAAAA,OAAO,EAAE,CAACD,MADL;AAELE,IAAAA,UAFK,wBAEQ;AACX,UAAIC,EAAJ;;AACA,UAAMC,GAAG,GAAGd,cAAc,CAACI,GAAG,CAACK,OAAL,CAA1B;AACA,UAAMM,GAAG,GAAG,IAAID,GAAG,CAACE,WAAR,CAAoB,cAApB,EAAoC;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAApC,CAAZ;AACA,OAACJ,EAAE,GAAGT,GAAG,CAACK,OAAV,KAAsB,IAAtB,GAA6B,KAAK,CAAlC,GAAsCI,EAAE,CAACK,aAAH,CAAiBH,GAAjB,CAAtC;AACD;AAPI,GAAP;AASD;;AACD,SACEd,iBADF","sourcesContent":["// src/index.ts\nimport { useEffect, useState } from \"react\";\nimport { useEventListener } from \"@chakra-ui/react-use-event-listener\";\nimport { getOwnerWindow } from \"@chakra-ui/dom-utils\";\nfunction useAnimationState(props) {\n  const { isOpen, ref } = props;\n  const [mounted, setMounted] = useState(isOpen);\n  const [once, setOnce] = useState(false);\n  useEffect(() => {\n    if (!once) {\n      setMounted(isOpen);\n      setOnce(true);\n    }\n  }, [isOpen, once, mounted]);\n  useEventListener(() => ref.current, \"animationend\", () => {\n    setMounted(isOpen);\n  });\n  const hidden = isOpen ? false : !mounted;\n  return {\n    present: !hidden,\n    onComplete() {\n      var _a;\n      const win = getOwnerWindow(ref.current);\n      const evt = new win.CustomEvent(\"animationend\", { bubbles: true });\n      (_a = ref.current) == null ? void 0 : _a.dispatchEvent(evt);\n    }\n  };\n}\nexport {\n  useAnimationState\n};\n"]},"metadata":{},"sourceType":"module"}